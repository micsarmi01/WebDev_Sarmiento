<!DOCTYPE html>
<html>
<head>
	<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <meta name="viewport" content="width=device-width">
	<link rel="stylesheet" type="text/css" href="css/style.css">
      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
      <!--add this to every page as well for parse DB*/-->
      <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.4.2.min.js"></script>
    
    <title>DoD Beneficiary Sign Up Page</title>
</head>
<body>
	<header>
      <h1>DOD Beneficiary Web Site Sign Up</h1>
    </header>
	
     <div style="display:none" class="error">
      Looks like there was a problem saving the object. Make sure you've set your application ID and javascript key correctly in the call to <code>Parse.initialize</code> in this file.
    </div>

    <div style="display:none" class="success">
      <p>We've just created a new user</p>
      
        
      </div>
    
    <div id="fieldsetDiv">
    	
    		Username: <input type="text" id="username"> <span id="usernameError"></span> <br />
    		Password: <input type="password" id="password"> <span id="passwordError"></span> <br />
			Re-Type Password: <input type="password" id="password2"> <span id="passwordError2"></span> <br />
            Email: <input type="email" id="email"> <span id="emailError"></span><br />
            First Name: <input type="text" id="firstName"> <span id="firstNameError"></span><br />
            Last Name: <input type="text" id="lastName"> <span id="lastNameError"></span><br />
            Gender: <select id="gender">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    </select> <span id="genderError"></span><br />
            Phone Number: <input type="text" id="phone"> <span id="phoneError"></span><br />
            Pay Grade: <input type="text" id="pay"> <span id="payGradeError"></span><br />
        
    		<input type="button" value="Sign Up!" id="signUp"> <br />
    </div> 
    
    <script type="text/javascript">
        
    // Add this line to every page, it sends objects to our database. This is the "Key".
    Parse.initialize("RohxsyYGrfbFJyo2xnetgt1mxrP0H0gRysZ4XvrV", "0en7QirXn3URQvHlUiZxBWEWTQushXy2PYVBXXKU");

    $("#signUp").click(function(){
    
    signUpFun();
    });
        
    
    function signUpFun(){
    
    var User = Parse.Object.extend("User");
        
    var user = new Parse.User();
        
    var username = $("#username").val();
    var password = $("#password").val();
    var email = $("#email").val();
    var firstName = $("#firstName").val();
    var lastName = $("#lastName").val(); 
    var gender = $("#gender").val();  
    var pay = $("#pay").val();
    var phone = $("#phone").val();
        
    //set attributes    
    user.set("username", username);
    user.set("password", password);
    user.set("email", email); 
    user.set("gender", gender);
    user.set("firstName", firstName);
    user.set("lastName", lastName);
    user.set("pay", pay);
    user.set("phone", phone);  
        
    
        
    //Success or fail                
    user.signUp(null, {
    success: function(user) {
    // Hooray! Let them use the app now.
    $(".success").show();
    user.save();
     },
    error: function(user, error) {
    // Show the error message somewhere and let the user try again.
    alert("Error: " + error.code + " " + error.message);
      }
    })
    
        
    
    };
   
    
 
                       
  </script>
		
	<footer>
    	<p>&copy; Copyright  by Nickolas Zarzosa, Alex Lamont, Michael Sarmiento</p>
    </footer>
    </div>

</body>
</html>